(this["webpackJsonpreact-canvas-annotation-example"]=this["webpackJsonpreact-canvas-annotation-example"]||[]).push([[0],{35:function(e,t,n){e.exports=n.p+"static/media/img.c13c8705.jpg"},36:function(e,t,n){e.exports=n(63)},63:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n(2);function r(){var e=Object(i.a)(["\n  body {\n    background: linear-gradient(to bottom, #323232 0%, #3F3F3F 40%, #1C1C1C 150%), linear-gradient(to top, rgba(255,255,255,0.40) 0%, rgba(0,0,0,0.25) 200%);\n    background-blend-mode: multiply;\n  }\n  main {\n    ","\n  }\n  h1 {\n    ","\n  }\n"]);return r=function(){return e},e}var a=Object(o.a)(r(),{height:"100vh",width:"100vw",color:"#fff"},{fontSize:"1.5rem",textAlign:"center"}),s=n(0),c=n.n(s),u=n(9),l=n.n(u),d=n(14),g=n.n(d),h=n(28),f=n(4),v=n(18);function P(){var e=Object(i.a)(["\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return P=function(){return e},e}var C=function(){},E=function(e){var t=e.className,n=e.children,i=e.onClick,o=void 0===i?C:i,r=e.isPressed,a=void 0!==r&&r,s=e.disabled,u=void 0!==s&&s;return c.a.createElement(m,{className:t,onClick:o,isPressed:a,disabled:u},n)},m=o.b.button(P(),{transitionProperty:"background-color, border-color, color, fill, stroke",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"500ms"},{cursor:"pointer",borderColor:"#a0aec0",borderWidth:"1px",padding:"0.5rem",":hover, :focus":{backgroundColor:"#97266d"}},{boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",borderRadius:"0.125rem"},Object(v.a)("isPressed",{backgroundColor:"#702459"}),Object(v.a)("disabled",{cursor:"not-allowed",opacity:"0.25"}));E.className=m;var A,T,I,R,y=E,_=n(11),O=n(7),w=n(3),p=n(16),S=n.n(p),D=n(30),L=n.n(D),b=n(31),x=n.n(b),M=n(17);function U(e){return{type:I.UPDATE_CUSTOM_CURSOR_STYLE,payload:{customCursorStyle:e}}}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function B(e,t){return t||(t=e.slice(0)),e.raw=t,e}!function(e){e.RECTANGLE="RECTANGLE",e.POLYGON="POLYGON"}(A||(A={})),function(e){e.RESIZE="resize",e.MOUSE_UP="mouseup",e.MOUSE_DOWN="mousedown",e.MOUSE_MOVE="mousemove",e.MOUSE_WHEEL="wheel",e.KEY_DOWN="keydown",e.KEY_PRESS="keypress",e.KEY_UP="keyup",e.FOCUS="focus"}(T||(T={})),function(e){e.UPDATE_SUGGESTED_LABEL_LIST="@@UPDATE_SUGGESTED_LABEL_LIST",e.UPDATE_REJECTED_SUGGESTED_LABEL_LIST="@@UPDATE_REJECTED_SUGGESTED_LABEL_LIST",e.UPDATE_OBJECT_DETECTOR_STATUS="@@UPDATE_OBJECT_DETECTOR_STATUS",e.UPDATE_POSE_DETECTOR_STATUS="@@UPDATE_POSE_DETECTOR_STATUS",e.UPDATE_DISABLED_AI_FLAG="@@UPDATE_DISABLED_AI_FLAG",e.UPDATE_PROJECT_DATA="@@UPDATE_PROJECT_DATA",e.UPDATE_WINDOW_SIZE="@@UPDATE_WINDOW_SIZE",e.UPDATE_CUSTOM_CURSOR_STYLE="@@UPDATE_CUSTOM_CURSOR_STYLE",e.UPDATE_PREVENT_CUSTOM_CURSOR_STATUS="@@UPDATE_PREVENT_CUSTOM_CURSOR_STATUS",e.UPDATE_IMAGE_DRAG_MODE_STATUS="@@UPDATE_IMAGE_DRAG_MODE_STATUS",e.UPDATE_ZOOM="@@UPDATE_ZOOM",e.UPDATE_ACTIVE_IMAGE_INDEX="@@UPDATE_ACTIVE_IMAGE_INDEX",e.UPDATE_IMAGE_DATA_BY_ID="@@UPDATE_IMAGE_DATA_BY_ID",e.ADD_IMAGES_DATA="@@ADD_IMAGES_DATA",e.UPDATE_IMAGES_DATA="@@UPDATE_IMAGES_DATA",e.UPDATE_ACTIVE_LABEL_NAME_ID="@@UPDATE_ACTIVE_LABEL_NAME_ID",e.UPDATE_ACTIVE_LABEL_TYPE="@@UPDATE_ACTIVE_LABEL_TYPE",e.UPDATE_ACTIVE_LABEL_ID="@@UPDATE_ACTIVE_LABEL_ID",e.UPDATE_HIGHLIGHTED_LABEL_ID="@@UPDATE_HIGHLIGHTED_LABEL_ID",e.UPDATE_LABEL_NAMES="@@UPDATE_LABEL_NAMES",e.UPDATE_FIRST_LABEL_CREATED_FLAG="@@UPDATE_FIRST_LABEL_CREATED_FLAG"}(I||(I={})),function(e){e.DEFAULT="DEFAULT",e.MOVE="MOVE",e.RESIZE="RESIZE",e.ADD="ADD",e.CANCEL="CANCEL",e.CLOSE="CLOSE",e.GRAB="GRAB",e.GRABBING="GRABBING"}(R||(R={}));var G=function(){};G.CANVAS_MIN_MARGIN_PX=20,G.MIN_ZOOM=1,G.MAX_ZOOM=4,G.ZOOM_STEP=.1,G.TRANSLATION_STEP_PX=20;var z={windowSize:null,customCursorStyle:R.DEFAULT,preventCustomCursor:!1,imageDragMode:!1,zoom:G.MIN_ZOOM};var H={activeLabelNameId:null,activeLabelType:null,activeLabelId:null,highlightedLabelId:null,imagesData:[],firstLabelCreatedFlag:!1,labels:[]};var F=Object(O.b)({general:function(e,t){switch(void 0===e&&(e=z),t.type){case I.UPDATE_WINDOW_SIZE:return V(V({},e),{},{windowSize:t.payload.windowSize});case I.UPDATE_CUSTOM_CURSOR_STYLE:return V(V({},e),{},{customCursorStyle:t.payload.customCursorStyle});case I.UPDATE_PREVENT_CUSTOM_CURSOR_STATUS:return V(V({},e),{},{preventCustomCursor:t.payload.preventCustomCursor});case I.UPDATE_IMAGE_DRAG_MODE_STATUS:return V(V({},e),{},{imageDragMode:t.payload.imageDragMode});case I.UPDATE_ZOOM:return V(V({},e),{},{zoom:t.payload.zoom});default:return e}},labels:function(e,t){switch(void 0===e&&(e=H),t.type){case I.UPDATE_ACTIVE_LABEL_NAME_ID:return V(V({},e),{},{activeLabelNameId:t.payload.activeLabelNameId});case I.UPDATE_ACTIVE_LABEL_ID:return V(V({},e),{},{activeLabelId:t.payload.activeLabelId});case I.UPDATE_HIGHLIGHTED_LABEL_ID:return V(V({},e),{},{highlightedLabelId:t.payload.highlightedLabelId});case I.UPDATE_ACTIVE_LABEL_TYPE:return V(V({},e),{},{activeLabelType:t.payload.activeLabelType});case I.UPDATE_IMAGE_DATA_BY_ID:return V(V({},e),{},{imagesData:e.imagesData.map((function(e){return"0"===t.payload.id?t.payload.newImageData:e}))});case I.ADD_IMAGES_DATA:return V(V({},e),{},{imagesData:e.imagesData.concat(t.payload.imageData)});case I.UPDATE_IMAGES_DATA:return V(V({},e),{},{imagesData:t.payload.imageData});case I.UPDATE_LABEL_NAMES:return V(V({},e),{},{labels:t.payload.labels});default:return e}}});var k,j=Object(O.c)(F,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),W=function(){function e(){}return e.init=function(){e.handleResize(),window.addEventListener(T.RESIZE,e.handleResize)},e}();W.handleResize=function(){var e;j.dispatch((e={width:window.innerWidth,height:window.innerHeight},{type:I.UPDATE_WINDOW_SIZE,payload:{windowSize:e}}))};var Z="M21 11H19.93C19.7068 9.23998 18.9049 7.60408 17.6504 6.34959C16.3959 5.0951 14.76 4.29319 13 4.07V3C13 2.73478 12.8946 2.48043 12.7071 2.29289C12.5196 2.10536 12.2652 2 12 2C11.7348 2 11.4804 2.10536 11.2929 2.29289C11.1054 2.48043 11 2.73478 11 3V4.07C9.23998 4.29319 7.60408 5.0951 6.34959 6.34959C5.0951 7.60408 4.29319 9.23998 4.07 11H3C2.73478 11 2.48043 11.1054 2.29289 11.2929C2.10536 11.4804 2 11.7348 2 12C2 12.2652 2.10536 12.5196 2.29289 12.7071C2.48043 12.8946 2.73478 13 3 13H4.07C4.29319 14.76 5.0951 16.3959 6.34959 17.6504C7.60408 18.9049 9.23998 19.7068 11 19.93V21C11 21.2652 11.1054 21.5196 11.2929 21.7071C11.4804 21.8946 11.7348 22 12 22C12.2652 22 12.5196 21.8946 12.7071 21.7071C12.8946 21.5196 13 21.2652 13 21V19.93C14.76 19.7068 16.3959 18.9049 17.6504 17.6504C18.9049 16.3959 19.7068 14.76 19.93 13H21C21.2652 13 21.5196 12.8946 21.7071 12.7071C21.8946 12.5196 22 12.2652 22 12C22 11.7348 21.8946 11.4804 21.7071 11.2929C21.5196 11.1054 21.2652 11 21 11ZM17 13H17.91C17.7016 14.2264 17.1171 15.3578 16.2374 16.2374C15.3578 17.1171 14.2264 17.7016 13 17.91V17C13 16.7348 12.8946 16.4804 12.7071 16.2929C12.5196 16.1054 12.2652 16 12 16C11.7348 16 11.4804 16.1054 11.2929 16.2929C11.1054 16.4804 11 16.7348 11 17V17.91C9.77356 17.7016 8.64222 17.1171 7.76256 16.2374C6.8829 15.3578 6.29842 14.2264 6.09 13H7C7.26522 13 7.51957 12.8946 7.70711 12.7071C7.89464 12.5196 8 12.2652 8 12C8 11.7348 7.89464 11.4804 7.70711 11.2929C7.51957 11.1054 7.26522 11 7 11H6.09C6.29842 9.77356 6.8829 8.64222 7.76256 7.76256C8.64222 6.8829 9.77356 6.29842 11 6.09V7C11 7.26522 11.1054 7.51957 11.2929 7.70711C11.4804 7.89464 11.7348 8 12 8C12.2652 8 12.5196 7.89464 12.7071 7.70711C12.8946 7.51957 13 7.26522 13 7V6.09C14.2264 6.29842 15.3578 6.8829 16.2374 7.76256C17.1171 8.64222 17.7016 9.77356 17.91 11H17C16.7348 11 16.4804 11.1054 16.2929 11.2929C16.1054 11.4804 16 11.7348 16 12C16 12.2652 16.1054 12.5196 16.2929 12.7071C16.4804 12.8946 16.7348 13 17 13ZM12 11C11.8022 11 11.6089 11.0586 11.4444 11.1685C11.28 11.2784 11.1518 11.4346 11.0761 11.6173C11.0004 11.8 10.9806 12.0011 11.0192 12.1951C11.0578 12.3891 11.153 12.5673 11.2929 12.7071C11.4327 12.847 11.6109 12.9422 11.8049 12.9808C11.9989 13.0194 12.2 12.9996 12.3827 12.9239C12.5654 12.8482 12.7216 12.72 12.8315 12.5556C12.9414 12.3911 13 12.1978 13 12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11Z",X=((k={})[R.MOVE]="M10.9873 14.1734L11.047 20.4242L10.1004 19.4938C9.94253 19.3386 9.72945 19.2525 9.50806 19.2544C9.28667 19.2563 9.0751 19.346 8.9199 19.5039C8.7647 19.6618 8.67858 19.8749 8.68049 20.0963C8.68239 20.3177 8.77217 20.5292 8.93006 20.6844L11.3114 23.0252C11.3901 23.1007 11.4829 23.1601 11.5845 23.1999C11.7893 23.2825 12.0185 23.2805 12.2219 23.1944C12.3228 23.1528 12.4145 23.0919 12.4919 23.015L14.8326 20.6337C14.9878 20.4758 15.074 20.2627 15.0721 20.0413C15.0702 19.8199 14.9804 19.6083 14.8225 19.4531C14.6646 19.2979 14.4515 19.2118 14.2301 19.2137C14.0087 19.2156 13.7972 19.3054 13.642 19.4633L12.7115 20.4099L12.6637 14.159C12.6617 13.9367 12.5716 13.7243 12.4131 13.5684C12.2545 13.4126 12.0406 13.3261 11.8183 13.328C11.596 13.33 11.3835 13.4201 11.2277 13.5786C11.0719 13.7372 10.9854 13.9511 10.9873 14.1734V14.1734ZM3.18614 11.047L4.11657 10.1004C4.27177 9.94253 4.35789 9.72945 4.35599 9.50806C4.35408 9.28667 4.26431 9.07511 4.10642 8.91991C3.94852 8.76471 3.73544 8.67859 3.51405 8.68049C3.29266 8.6824 3.0811 8.77217 2.9259 8.93007L0.58518 11.3114C0.509651 11.3901 0.450284 11.4829 0.410438 11.5845C0.327862 11.7893 0.329834 12.0185 0.415923 12.2219C0.457511 12.3228 0.518465 12.4145 0.595337 12.4919L2.97669 14.8327C3.13458 14.9879 3.34766 15.074 3.56905 15.0721C3.79044 15.0702 4.00201 14.9804 4.1572 14.8225C4.3124 14.6646 4.39852 14.4515 4.39662 14.2301C4.39471 14.0087 4.30494 13.7972 4.14705 13.642L3.20046 12.7115L9.45135 12.6637C9.56155 12.6632 9.67056 12.6409 9.77209 12.598C9.87363 12.5552 9.96568 12.4927 10.0429 12.4141C10.1202 12.3355 10.1811 12.2424 10.2222 12.1401C10.2633 12.0379 10.2837 11.9285 10.2823 11.8183C10.2818 11.7081 10.2595 11.5991 10.2167 11.4975C10.1738 11.396 10.1113 11.304 10.0327 11.2267C9.95412 11.1495 9.86101 11.0885 9.75875 11.0474C9.6565 11.0064 9.54712 10.9859 9.43693 10.9873L3.18614 11.047ZM19.4531 8.78786C19.2979 8.94575 19.2118 9.15883 19.2137 9.38022C19.2156 9.60161 19.3054 9.81318 19.4633 9.96837L20.4099 10.8988L14.159 10.9467C13.9367 10.9486 13.7243 11.0387 13.5684 11.1973C13.4126 11.3558 13.3261 11.5698 13.328 11.7921C13.33 12.0144 13.4201 12.2268 13.5786 12.3826C13.7372 12.5385 13.9511 12.6249 14.1734 12.623L20.4242 12.5633L19.4938 13.5099C19.3386 13.6678 19.2524 13.8809 19.2544 14.1023C19.2563 14.3237 19.346 14.5352 19.5039 14.6904C19.6618 14.8456 19.8749 14.9318 20.0963 14.9299C20.3177 14.928 20.5292 14.8382 20.6844 14.6803L23.0252 12.2989C23.1007 12.2202 23.1601 12.1275 23.1999 12.0259C23.2825 11.821 23.2805 11.5918 23.1944 11.3884C23.1528 11.2876 23.0919 11.1958 23.015 11.1184L20.6337 8.7777C20.4758 8.6225 20.2627 8.53638 20.0413 8.53828C19.8199 8.54019 19.6083 8.62996 19.4531 8.78786ZM12.0259 0.410442C11.821 0.327866 11.5918 0.329839 11.3884 0.415928C11.2876 0.457516 11.1958 0.518469 11.1184 0.595342L8.7777 2.97669C8.6225 3.13458 8.53638 3.34766 8.53828 3.56905C8.54019 3.79044 8.62996 4.00201 8.78785 4.15721C8.94575 4.31241 9.15883 4.39853 9.38022 4.39662C9.60161 4.39472 9.81317 4.30494 9.96837 4.14705L10.8988 3.20046L10.9467 9.45135C10.9472 9.56155 10.9695 9.67056 11.0123 9.7721C11.0552 9.87363 11.1177 9.96568 11.1963 10.0429C11.2749 10.1202 11.368 10.1811 11.4702 10.2222C11.5725 10.2633 11.6819 10.2837 11.7921 10.2823C11.9023 10.2818 12.0113 10.2595 12.1128 10.2167C12.2143 10.1738 12.3064 10.1113 12.3836 10.0327C12.4609 9.95412 12.5218 9.86101 12.5629 9.75876C12.604 9.6565 12.6244 9.54712 12.623 9.43693L12.5633 3.18614L13.5099 4.11658C13.6678 4.27178 13.8809 4.3579 14.1023 4.35599C14.3237 4.35409 14.5352 4.26431 14.6904 4.10642C14.8456 3.94853 14.9318 3.73545 14.9299 3.51406C14.9279 3.29267 14.8382 3.0811 14.6803 2.9259L12.2989 0.585184C12.2202 0.509655 12.1274 0.450288 12.0259 0.410442V0.410442Z",k[R.CANCEL]="M13.41 12L17.71 7.71C17.8983 7.5217 18.0041 7.2663 18.0041 7C18.0041 6.7337 17.8983 6.47831 17.71 6.29C17.5217 6.1017 17.2663 5.99591 17 5.99591C16.7337 5.99591 16.4783 6.1017 16.29 6.29L12 10.59L7.71 6.29C7.5217 6.1017 7.2663 5.99591 7 5.99591C6.7337 5.99591 6.4783 6.1017 6.29 6.29C6.1017 6.47831 5.99591 6.7337 5.99591 7C5.99591 7.2663 6.1017 7.5217 6.29 7.71L10.59 12L6.29 16.29C6.19627 16.383 6.12188 16.4936 6.07111 16.6154C6.02034 16.7373 5.9942 16.868 5.9942 17C5.9942 17.132 6.02034 17.2627 6.07111 17.3846C6.12188 17.5064 6.19627 17.617 6.29 17.71C6.38296 17.8037 6.49356 17.8781 6.61542 17.9289C6.73728 17.9797 6.86799 18.0058 7 18.0058C7.13201 18.0058 7.26272 17.9797 7.38458 17.9289C7.50644 17.8781 7.61704 17.8037 7.71 17.71L12 13.41L16.29 17.71C16.383 17.8037 16.4936 17.8781 16.6154 17.9289C16.7373 17.9797 16.868 18.0058 17 18.0058C17.132 18.0058 17.2627 17.9797 17.3846 17.9289C17.5064 17.8781 17.617 17.8037 17.71 17.71C17.8037 17.617 17.8781 17.5064 17.9289 17.3846C17.9797 17.2627 18.0058 17.132 18.0058 17C18.0058 16.868 17.9797 16.7373 17.9289 16.6154C17.8781 16.4936 17.8037 16.383 17.71 16.29L13.41 12Z",k[R.GRAB]=Z,k[R.GRABBING]=Z,k);function Y(){var e=B([""]);return Y=function(){return e},e}var J=w.a.svg(Y()),K=function(e){var t=e.d,n=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["d"]);return c.a.createElement(J,Object.assign({viewBox:"0 0 24 24"},n),c.a.createElement("path",{d:t}))};K.className=J;var q=function(){};q.isLoading=!1,q.viewPortActionsDisabled=!1;var Q,$=function(){function e(){}return e.getPreventCustomCursorStatus=function(){return j.getState().general.preventCustomCursor},e.getImageDragModeStatus=function(){return j.getState().general.imageDragMode},e.getCustomCursorStyle=function(){return j.getState().general.customCursorStyle},e.getZoom=function(){return j.getState().general.zoom},e}();!function(e){e.TOP="TOP",e.BOTTOM="BOTTOM",e.LEFT="LEFT",e.RIGHT="RIGHT",e.TOP_RIGHT="TOP_RIGHT",e.TOP_LEFT="TOP_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.CENTER="CENTER"}(Q||(Q={}));var ee,te=function(){function e(){}return e.convertDirectionToVector=function(e){switch(e){case Q.RIGHT:return{x:1,y:0};case Q.LEFT:return{x:-1,y:0};case Q.TOP:return{x:0,y:1};case Q.BOTTOM:return{x:0,y:-1};case Q.TOP_RIGHT:return{x:1,y:1};case Q.TOP_LEFT:return{x:-1,y:1};case Q.BOTTOM_RIGHT:return{x:1,y:-1};case Q.BOTTOM_LEFT:return{x:-1,y:-1};case Q.CENTER:return{x:0,y:0};default:return null}},e}(),ne=function(){function e(){}return e.getSize=function(e){return e?{width:e.width,height:e.height}:null},e}(),ie=function(){function e(){}return e.snapValueToRange=function(e,t,n){return e<t?t:e>n?n:e},e.isValueInRange=function(e,t,n){return e>=t&&e<=n},e}(),oe=function(){function e(){}return e.equals=function(e,t){return e.x===t.x&&e.y===t.y},e.add=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},e.subtract=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.multiply=function(e,t){return{x:e.x*t,y:e.y*t}},e.getEuclidianDistance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},e}(),re=function(){function e(){}return e.getRatio=function(e){return e?e.width/e.height:null},e.intersect=function(e,t){return e&&t?!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y):null},e.isPointInside=function(e,t){return e&&t?e.x<t.x&&e.x+e.width>t.x&&e.y<t.y&&e.y+e.height>t.y:null},e.getRectWithCenterAndSize=function(e,t){return V({x:e.x-.5*t.width,y:e.y-.5*t.height},t)},e.fitInsideRectWithRatio=function(t,n){if(e.getRatio(t)<n){var i=t.width/n;return{x:t.x,y:t.y+(t.height-i)/2,width:t.width,height:i}}var o=t.height*n;return{x:t.x+(t.width-o)/2,y:t.y,width:o,height:t.height}},e.resizeRect=function(e,t,n){var i=V({},e);switch(t){case Q.RIGHT:i.width+=n.x;break;case Q.BOTTOM_RIGHT:i.width+=n.x,i.height+=n.y;break;case Q.BOTTOM:i.height+=n.y;break;case Q.TOP_RIGHT:i.width+=n.x,i.y+=n.y,i.height-=n.y;break;case Q.TOP:i.y+=n.y,i.height-=n.y;break;case Q.TOP_LEFT:i.x+=n.x,i.width-=n.x,i.y+=n.y,i.height-=n.y;break;case Q.LEFT:i.x+=n.x,i.width-=n.x;break;case Q.BOTTOM_LEFT:i.x+=n.x,i.width-=n.x,i.height+=n.y}return i.width<0&&(i.x=i.x+i.width,i.width=-i.width),i.height<0&&(i.y=i.y+i.height,i.height=-i.height),i},e.translate=function(e,t){return V(V({},e),{},{x:e.x+t.x,y:e.y+t.y})},e.expand=function(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width+2*t.x,height:e.height+2*t.y}},e.scaleRect=function(e,t){return{x:e.x*t,y:e.y*t,width:e.width*t,height:e.height*t}},e.mapRectToAnchors=function(e){return[{type:Q.TOP_LEFT,position:{x:e.x,y:e.y}},{type:Q.TOP,position:{x:e.x+.5*e.width,y:e.y}},{type:Q.TOP_RIGHT,position:{x:e.x+e.width,y:e.y}},{type:Q.LEFT,position:{x:e.x,y:e.y+.5*e.height}},{type:Q.RIGHT,position:{x:e.x+e.width,y:e.y+.5*e.height}},{type:Q.BOTTOM_LEFT,position:{x:e.x,y:e.y+e.height}},{type:Q.BOTTOM,position:{x:e.x+.5*e.width,y:e.y+e.height}},{type:Q.BOTTOM_RIGHT,position:{x:e.x+e.width,y:e.y+e.height}}]},e.snapPointToRect=function(t,n){return e.isPointInside(n,t)?t:{x:ie.snapValueToRange(t.x,n.x,n.x+n.width),y:ie.snapValueToRange(t.y,n.y,n.y+n.height)}},e}(),ae=function(){function e(){}return e.scale=function(e,t){return{width:e.width*t,height:e.height*t}},e}(),se=function(){function e(){}return e.updateViewPortSize=function(){q.editor&&(q.viewPortSize={width:q.editor.offsetWidth,height:q.editor.offsetHeight})},e.updateDefaultViewPortImageRect=function(){if(q.viewPortSize&&q.image){var e={x:G.CANVAS_MIN_MARGIN_PX,y:G.CANVAS_MIN_MARGIN_PX},t=V({x:0,y:0},ne.getSize(q.image)),n=V({x:0,y:0},q.viewPortSize),i=re.expand(n,oe.multiply(e,-1));q.defaultRenderImageRect=re.fitInsideRectWithRatio(i,re.getRatio(t))}},e.calculateViewPortContentSize=function(){if(q.viewPortSize&&q.image){var e=q.defaultRenderImageRect,t=ae.scale(q.defaultRenderImageRect,$.getZoom());return{width:t.width+2*e.x,height:t.height+2*e.y}}return null},e.calculateViewPortContentImageRect=function(){if(q.viewPortSize&&q.image){var t=q.defaultRenderImageRect,n=e.calculateViewPortContentSize();return V(V({},t),{},{width:n.width-2*t.x,height:n.height-2*t.y})}return null},e.resizeCanvas=function(e){e&&q.canvas&&(q.canvas.width=e.width,q.canvas.height=e.height)},e.resizeViewPortContent=function(){var t=e.calculateViewPortContentSize();t&&e.resizeCanvas(t)},e.calculateAbsoluteScrollPosition=function(t){var n=e.calculateViewPortContentSize(),i=q.viewPortSize;return{x:t.x*(n.width-i.width),y:t.y*(n.height-i.height)}},e.getRelativeScrollPosition=function(){if(q.viewPortScrollbars){var e=q.viewPortScrollbars.getValues();return{x:e.left,y:e.top}}return null},e.getAbsoluteScrollPosition=function(){if(q.viewPortScrollbars){var e=q.viewPortScrollbars.getValues();return{x:e.scrollLeft,y:e.scrollTop}}return null},e.setScrollPosition=function(e){q.viewPortScrollbars.scrollLeft(e.x),q.viewPortScrollbars.scrollTop(e.y)},e.translateViewPortPosition=function(t){if(!q.viewPortActionsDisabled){var n=te.convertDirectionToVector(t),i=oe.multiply(n,G.TRANSLATION_STEP_PX),o=e.getAbsoluteScrollPosition(),r=oe.add(o,i);e.setScrollPosition(r),Be.fullRender()}},e.setZoom=function(e){var t,n=$.getZoom();ie.isValueInRange(e,G.MIN_ZOOM,G.MAX_ZOOM)&&e!==n&&j.dispatch((t=e,{type:I.UPDATE_ZOOM,payload:{zoom:t}}))},e}(),ce=function(){function e(){}return e.getEventType=function(e){if(!e)return null;switch(e.type){case T.MOUSE_DOWN:return T.MOUSE_DOWN;case T.MOUSE_UP:return T.MOUSE_UP;case T.MOUSE_MOVE:return T.MOUSE_MOVE;default:return null}},e}(),ue=function(){function e(){}var t=e.prototype;return t.update=function(e){if(e.event)switch(ce.getEventType(e.event)){case T.MOUSE_MOVE:this.mouseMoveHandler(e);break;case T.MOUSE_UP:this.mouseUpHandler();break;case T.MOUSE_DOWN:this.mouseDownHandler(e)}},t.mouseDownHandler=function(e){var t=e.event;this.startScrollPosition=e.absoluteViewPortContentScrollPosition,this.mouseStartPosition={x:t.screenX,y:t.screenY},j.dispatch(U(R.GRABBING)),q.canvas.style.cursor="none"},t.mouseUpHandler=function(){this.startScrollPosition=null,this.mouseStartPosition=null,j.dispatch(U(R.GRAB)),q.canvas.style.cursor="none"},t.mouseMoveHandler=function(e){if(this.startScrollPosition&&this.mouseStartPosition){var t=e.event,n={x:t.screenX,y:t.screenY},i=oe.subtract(n,this.mouseStartPosition),o=oe.subtract(this.startScrollPosition,i);se.setScrollPosition(o),j.dispatch(U(R.GRABBING))}else j.dispatch(U(R.GRAB));q.canvas.style.cursor="none"},e}();!function(e){e.LOAD_LABEL_NAMES="LOAD_LABEL_NAMES",e.UPDATE_LABEL_NAMES="UPDATE_LABEL_NAMES",e.SUGGEST_LABEL_NAMES="SUGGEST_LABEL_NAMES",e.LOAD_IMAGES="LOAD_IMAGES",e.LOAD_AI_MODEL="LOAD_AI_MODEL",e.EXPORT_LABELS="EXPORT_LABELS",e.INSERT_LABEL_NAMES="INSERT_LABEL_NAMES",e.EXIT_PROJECT="EXIT_PROJECT",e.LOADER="LOADER"}(ee||(ee={}));var le=function(){};le.GITHUB_URL="https://github.com/SkalskiP",le.MEDIUM_URL="https://medium.com/@piotr.skalski92",le.PATREON_URL="https://www.patreon.com/make_sense",le.TOP_NAVIGATION_BAR_HEIGHT_PX=35,le.EDITOR_BOTTOM_NAVIGATION_BAR_HEIGHT_PX=41,le.EDITOR_TOP_NAVIGATION_BAR_HEIGHT_PX=41,le.SIDE_NAVIGATION_BAR_WIDTH_OPEN_PX=(le.SIDE_NAVIGATION_BAR_WIDTH_CLOSED_PX=24)+300+1,le.TOOLKIT_TAB_HEIGHT_PX=40,le.TOOLBOX_PANEL_WIDTH_PX=51,le.EDITOR_MIN_WIDTH=900,le.EDITOR_MIN_HEIGHT=500,le.PRIMARY_COLOR="#F8C182",le.SECONDARY_COLOR="#EC77FF",le.DARK_THEME_FIRST_COLOR="#171717",le.DARK_THEME_SECOND_COLOR="#282828",le.DARK_THEME_THIRD_COLOR="#4c4c4c",le.DARK_THEME_FORTH_COLOR="#262c2f",le.CROSS_HAIR_THICKNESS_PX=1,le.CROSS_HAIR_COLOR="#fff",le.RESIZE_HANDLE_DIMENSION_PX=8,le.RESIZE_HANDLE_HOVER_DIMENSION_PX=16,le.CLOSEABLE_POPUPS=[ee.LOAD_IMAGES,ee.EXPORT_LABELS,ee.EXIT_PROJECT,ee.UPDATE_LABEL_NAMES];var de=function(){this.lineThickness=2,this.lineActiveColor=le.PRIMARY_COLOR,this.lineInactiveColor="#fff",this.anchorSize={width:le.RESIZE_HANDLE_DIMENSION_PX,height:le.RESIZE_HANDLE_DIMENSION_PX},this.anchorHoverSize={width:le.RESIZE_HANDLE_HOVER_DIMENSION_PX,height:le.RESIZE_HANDLE_HOVER_DIMENSION_PX},this.suggestedAnchorDetectionSize={width:100,height:100},this.activeAnchorColor=le.SECONDARY_COLOR,this.inactiveAnchorColor=le.DARK_THEME_SECOND_COLOR};function ge(e){return{type:I.UPDATE_ACTIVE_LABEL_ID,payload:{activeLabelId:e}}}function he(e){return{type:I.UPDATE_HIGHLIGHTED_LABEL_ID,payload:{highlightedLabelId:e}}}function fe(e,t){return{type:I.UPDATE_IMAGE_DATA_BY_ID,payload:{id:e,newImageData:t}}}var ve=function(){function e(){}return e.getLabelNames=function(){return j.getState().labels.labels},e.getActiveLabelNameId=function(){return j.getState().labels.activeLabelNameId},e.getActiveLabelType=function(){return j.getState().labels.activeLabelType},e.getImagesData=function(){return j.getState().labels.imagesData},e.getActiveImageIndex=function(){return 0},e.getActiveImageData=function(){var t=e.getActiveImageIndex();return null===t?null:e.getImageDataByIndex(t)},e.getImageDataByIndex=function(t){return e.getImagesData()[t]},e.getImageDataById=function(){return e.getImagesData()[0]},e.getActiveLabelId=function(){return j.getState().labels.activeLabelId},e.getHighlightedLabelId=function(){return j.getState().labels.highlightedLabelId},e.getActiveRectLabel=function(){var t=e.getActiveLabelId();return null===t?null:S()(e.getActiveImageData().labelRects,{id:t})},e.getActivePolygonLabel=function(){var t=e.getActiveLabelId();return null===t?null:S()(e.getActiveImageData().labelPolygons,{id:t})},e}(),Pe=function(){function e(){}return e.deg2rad=function(e){return e*Math.PI/180},e.rad2deg=function(e){return 180*e/Math.PI},e}(),Ce=function(){function e(){}return e.clearCanvas=function(e){e.getContext("2d").clearRect(0,0,e.width,e.height)},e.drawLine=function(e,t,n,i,o){void 0===i&&(i="#111111"),void 0===o&&(o=1);var r=e.getContext("2d");r.save(),r.strokeStyle=i,r.lineWidth=o,r.lineCap="round",r.beginPath(),r.moveTo(t.x,t.y),r.lineTo(n.x+1,n.y+1),r.stroke(),r.restore()},e.drawRect=function(e,t,n,i){void 0===n&&(n="#fff"),void 0===i&&(i=1);var o=e.getContext("2d");o.save(),o.strokeStyle=n,o.lineWidth=i,o.beginPath(),o.rect(t.x,t.y,t.width,t.height),o.stroke(),o.restore()},e.drawRectWithFill=function(e,t,n){void 0===n&&(n="#fff");var i=e.getContext("2d");i.save(),i.fillStyle=n,i.beginPath(),i.rect(t.x,t.y,t.width,t.height),i.fill(),i.restore()},e.shadeEverythingButRect=function(e,t,n){void 0===n&&(n="rgba(0, 0, 0, 0.7)");var i=e.getContext("2d");i.save(),i.fillStyle=n,i.fillRect(0,0,e.width,e.height),i.globalCompositeOperation="destination-out",i.fillRect(t.x,t.y,t.width,t.height),i.restore()},e.drawCircleWithFill=function(e,t,n,i){void 0===i&&(i="#ffffff");var o=e.getContext("2d");o.save();var r=Pe.deg2rad(0),a=Pe.deg2rad(360);o.fillStyle=i,o.beginPath(),o.arc(t.x,t.y,n,r,a,!1),o.fill(),o.restore()},e.drawCircle=function(e,t,n,i,o,r,a){void 0===r&&(r=20),void 0===a&&(a="#ffffff");var s=e.getContext("2d"),c=Pe.deg2rad(i),u=Pe.deg2rad(o);s.save(),s.strokeStyle=a,s.lineWidth=r,s.beginPath(),s.arc(t.x,t.y,n,c,u,!1),s.stroke(),s.restore()},e.drawPolygon=function(e,t,n,i){void 0===n&&(n="#fff"),void 0===i&&(i=1);var o=e.getContext("2d");o.save(),o.strokeStyle=n,o.lineWidth=i,o.beginPath(),o.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length;r++)o.lineTo(t[r].x,t[r].y);o.closePath(),o.stroke(),o.restore()},e.drawPolygonWithFill=function(e,t,n){void 0===n&&(n="#fff");var i=e.getContext("2d");i.save(),i.fillStyle=n,i.beginPath(),i.moveTo(t[0].x,t[0].y);for(var o=1;o<t.length;o++)i.lineTo(t[o].x,t[o].y);i.closePath(),i.fill(),i.restore()},e.drawText=function(e,t,n,i,o,r,a){void 0===o&&(o="#ffffff"),void 0===r&&(r=!1),void 0===a&&(a="center");var s=e.getContext("2d");s.save(),s.fillStyle=o,s.textAlign=a,s.textBaseline="middle",s.font=(r?"bold ":"")+n+"px Arial",s.fillText(t,i.x,i.y),s.restore()},e.getRandomRGBColor=function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"},e.hexToRGB=function(e,t){var n=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return t?"rgba("+n+", "+i+", "+o+", "+t+")":"rgb("+n+", "+i+", "+o+")"},e}(),Ee=function(){function e(){}return e.getDistanceFromLine=function(e,t){return e.start.x!==e.end.x||e.start.y!==e.end.y?Math.abs((e.end.y-e.start.y)*t.x-(e.end.x-e.start.x)*t.y+e.end.x*e.start.y-e.end.y*e.start.x)/Math.sqrt(Math.pow(e.end.y-e.start.y,2)+Math.pow(e.end.x-e.start.x,2)):null},e.getCenter=function(e){return{x:(e.start.x+e.end.x)/2,y:(e.start.y+e.end.y)/2}},e}(),me=function(){function e(){}return e.calculateImageScale=function(e){return e.realImageSize.width/e.viewPortContentImageRect.width},e.isMouseOverImage=function(e){return re.isPointInside(e.viewPortContentImageRect,e.mousePositionOnViewPortContent)},e.isMouseOverCanvas=function(e){return re.isPointInside(V({x:0,y:0},e.viewPortContentSize),e.mousePositionOnViewPortContent)},e.transferPolygonFromImageToViewPortContent=function(t,n){return t.map((function(t){return e.transferPointFromImageToViewPortContent(t,n)}))},e.transferPointFromImageToViewPortContent=function(t,n){var i=e.calculateImageScale(n);return oe.add(oe.multiply(t,1/i),n.viewPortContentImageRect)},e.transferPolygonFromViewPortContentToImage=function(t,n){return t.map((function(t){return e.transferPointFromViewPortContentToImage(t,n)}))},e.transferPointFromViewPortContentToImage=function(t,n){var i=e.calculateImageScale(n);return oe.multiply(oe.subtract(t,n.viewPortContentImageRect),i)},e.transferRectFromViewPortContentToImage=function(t,n){var i=e.calculateImageScale(n);return re.translate(re.scaleRect(t,1/i),n.viewPortContentImageRect)},e.transferRectFromImageToViewPortContent=function(t,n){var i=e.calculateImageScale(n),o={x:-n.viewPortContentImageRect.x,y:-n.viewPortContentImageRect.y};return re.scaleRect(re.translate(t,o),i)},e.wrapDefaultCursorStyleInCancel=function(e){re.isPointInside(e.viewPortContentImageRect,e.mousePositionOnViewPortContent)?j.dispatch(U(R.DEFAULT)):j.dispatch(U(R.CANCEL))},e.setValueBetweenPixels=function(e){return Math.floor(e)+.5},e.setPointBetweenPixels=function(t){return{x:e.setValueBetweenPixels(t.x),y:e.setValueBetweenPixels(t.y)}},e.setRectBetweenPixels=function(t){var n={x:t.x,y:t.y},i={x:t.x+t.width,y:t.y+t.height},o=e.setPointBetweenPixels(n),r=e.setPointBetweenPixels(i);return{x:o.x,y:o.y,width:r.x-o.x,height:r.y-o.y}},e}();for(var Ae=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}})),Te=[],Ie=0;Ie<256;++Ie)Te[Ie]=(Ie+256).toString(16).substr(1);var Re,ye,_e=function(e,t){var n=t||0,i=Te;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")},Oe=0,we=0;var pe=function(e,t,n){var i=t&&n||0,o=t||[],r=(e=e||{}).node||Re,a=void 0!==e.clockseq?e.clockseq:ye;if(null==r||null==a){var s=Ae();null==r&&(r=Re=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=ye=16383&(s[6]<<8|s[7]))}var c=void 0!==e.msecs?e.msecs:(new Date).getTime(),u=void 0!==e.nsecs?e.nsecs:we+1,l=c-Oe+(u-we)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||c>Oe)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Oe=c,we=u,ye=a;var d=(1e4*(268435455&(c+=122192928e5))+u)%4294967296;o[i++]=d>>>24&255,o[i++]=d>>>16&255,o[i++]=d>>>8&255,o[i++]=255&d;var g=c/4294967296*1e4&268435455;o[i++]=g>>>8&255,o[i++]=255&g,o[i++]=g>>>24&15|16,o[i++]=g>>>16&255,o[i++]=a>>>8|128,o[i++]=255&a;for(var h=0;h<6;++h)o[i+h]=r[h];return t||_e(o)};var Se=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||Ae)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var r=0;r<16;++r)t[i+r]=o[r];return t||_e(o)},De=Se;De.v1=pe,De.v4=Se;var Le,be=De,xe=function(){function e(e){this.canvas=e}return e.prototype.update=function(e,t){if(e.event)switch(ce.getEventType(e.event)){case T.MOUSE_MOVE:this.mouseMoveHandler(e);break;case T.MOUSE_UP:this.mouseUpHandler(e,t);break;case T.MOUSE_DOWN:this.mouseDownHandler(e)}},e}(),Me=function(e){function t(t){var n;return(n=e.call(this,t)||this).config=new de,n.activePath=[],n.resizeAnchorIndex=null,n.suggestedAnchorPositionOnCanvas=null,n.suggestedAnchorIndexInPolygon=null,n.labelType=A.POLYGON,n}N(t,e);var n=t.prototype;return n.update=function(e,t){if(e.event)switch(ce.getEventType(e.event)){case T.MOUSE_MOVE:this.mouseMoveHandler(e);break;case T.MOUSE_UP:this.mouseUpHandler(e,t);break;case T.MOUSE_DOWN:this.mouseDownHandler(e)}},n.mouseDownHandler=function(e){var t=this;if(me.isMouseOverCanvas(e))if(this.isCreationInProgress()){this.isMouseOverAnchor(e.mousePositionOnViewPortContent,this.activePath[0])?this.addLabelAndFinishCreation(e):this.updateActivelyCreatedLabel(e)}else{var n=this.getPolygonUnderMouse(e);if(n){var i=n.vertices.reduce((function(n,i,o){if(null===n){var r=me.transferPointFromImageToViewPortContent(i,e);if(t.isMouseOverAnchor(e.mousePositionOnViewPortContent,r))return o}return n}),null);if(null!==i)this.startExistingLabelResize(n.id,i);else j.dispatch(ge(n.id)),this.isMouseOverAnchor(e.mousePositionOnViewPortContent,this.suggestedAnchorPositionOnCanvas)&&this.addSuggestedAnchorToPolygonLabel(e)}else this.updateActivelyCreatedLabel(e)}},n.mouseUpHandler=function(e,t){this.isResizeInProgress()&&this.endExistingLabelResize(e,t)},n.mouseMoveHandler=function(e){if(e.viewPortContentImageRect&&e.mousePositionOnViewPortContent&&(me.isMouseOverImage(e)&&!this.isCreationInProgress())){var t=this.getPolygonUnderMouse(e);if(t&&!this.isResizeInProgress()){ve.getHighlightedLabelId()!==t.id&&j.dispatch(he(t.id));for(var n=me.transferPolygonFromImageToViewPortContent(t.vertices,e),i=this.mapPointsToLines(n.concat(n[0])),o=0;o<i.length;o++)if(this.isMouseOverLine(e.mousePositionOnViewPortContent,i[o])){this.suggestedAnchorPositionOnCanvas=Ee.getCenter(i[o]),this.suggestedAnchorIndexInPolygon=o+1;break}}else null!==ve.getHighlightedLabelId()&&(j.dispatch(he(null)),this.discardSuggestedPoint())}},n.render=function(e){ve.getActiveImageData()&&(this.drawExistingLabels(e),this.drawActivelyCreatedLabel(e),this.drawActivelyResizeLabel(e),this.updateCursorStyle(e),this.drawSuggestedAnchor(e))},n.updateCursorStyle=function(e){if(this.canvas&&e.mousePositionOnViewPortContent&&!$.getImageDragModeStatus())if(me.isMouseOverCanvas(e)){if(this.isCreationInProgress()){this.isMouseOverAnchor(e.mousePositionOnViewPortContent,this.activePath[0])&&this.activePath.length>2?j.dispatch(U(R.CLOSE)):j.dispatch(U(R.DEFAULT))}else{var t=this.getAnchorUnderMouse(e);this.isMouseOverAnchor(e.mousePositionOnViewPortContent,this.suggestedAnchorPositionOnCanvas)?j.dispatch(U(R.ADD)):this.isResizeInProgress()||t?j.dispatch(U(R.MOVE)):me.wrapDefaultCursorStyleInCancel(e)}this.canvas.style.cursor="none"}else this.canvas.style.cursor="default"},n.drawActivelyCreatedLabel=function(e){var t=this,n=this.activePath.map((function(e){return me.setPointBetweenPixels(e)})),i=n.concat(e.mousePositionOnViewPortContent),o=this.mapPointsToLines(i);Ce.drawPolygonWithFill(this.canvas,i,Ce.hexToRGB(this.config.lineActiveColor,.2)),o.forEach((function(e){Ce.drawLine(t.canvas,e.start,e.end,t.config.lineActiveColor,t.config.lineThickness)})),this.mapPointsToAnchors(n).forEach((function(e){Ce.drawRectWithFill(t.canvas,e,t.config.activeAnchorColor)}))},n.drawActivelyResizeLabel=function(e){var t=this,n=ve.getActivePolygonLabel();if(n&&this.isResizeInProgress()){var i=re.snapPointToRect(e.mousePositionOnViewPortContent,e.viewPortContentImageRect),o=n.vertices.map((function(n,o){return o===t.resizeAnchorIndex?i:me.transferPointFromImageToViewPortContent(n,e)}));this.drawPolygon(o,!0)}},n.drawExistingLabels=function(e){var t=this,n=ve.getActiveLabelId(),i=ve.getHighlightedLabelId();ve.getActiveImageData().labelPolygons.forEach((function(o){var r=o.id===n||o.id===i,a=me.transferPolygonFromImageToViewPortContent(o.vertices,e);o.id===n&&t.isResizeInProgress()||t.drawPolygon(a,r)}))},n.drawPolygon=function(e,t){var n=this,i=t?this.config.lineActiveColor:this.config.lineInactiveColor,o=e.map((function(e){return me.setPointBetweenPixels(e)}));t&&Ce.drawPolygonWithFill(this.canvas,o,Ce.hexToRGB(i,.2)),Ce.drawPolygon(this.canvas,o,i,this.config.lineThickness),t&&this.mapPointsToAnchors(o).forEach((function(e){Ce.drawRectWithFill(n.canvas,e,n.config.activeAnchorColor)}))},n.drawSuggestedAnchor=function(e){if(this.suggestedAnchorPositionOnCanvas){var t=re.getRectWithCenterAndSize(this.suggestedAnchorPositionOnCanvas,this.config.suggestedAnchorDetectionSize);if(re.isPointInside(t,e.mousePositionOnViewPortContent)){var n=re.getRectWithCenterAndSize(this.suggestedAnchorPositionOnCanvas,this.config.anchorSize);Ce.drawRectWithFill(this.canvas,n,this.config.lineInactiveColor)}}},n.updateActivelyCreatedLabel=function(e){if(this.isCreationInProgress()){var t=re.snapPointToRect(e.mousePositionOnViewPortContent,e.viewPortContentImageRect);this.activePath.push(t)}else{re.isPointInside(e.viewPortContentImageRect,e.mousePositionOnViewPortContent)&&(Be.setViewPortActionsDisabledStatus(!0),this.activePath.push(e.mousePositionOnViewPortContent),j.dispatch(ge(null)))}},n.cancelLabelCreation=function(){this.activePath=[],Be.setViewPortActionsDisabledStatus(!1)},n.finishLabelCreation=function(){this.activePath=[],Be.setViewPortActionsDisabledStatus(!1)},n.addLabelAndFinishCreation=function(e){if(this.isCreationInProgress()&&this.activePath.length>2){var t=me.transferPolygonFromViewPortContentToImage(this.activePath,e);this.addPolygonLabel(t),this.finishLabelCreation()}},n.addPolygonLabel=function(e){var t=ve.getActiveLabelNameId(),n=ve.getActiveImageData(),i={id:be.v4(),labelId:t,vertices:e};n.labelPolygons.push(i),j.dispatch(fe("0",n)),j.dispatch(ge(i.id))},n.startExistingLabelResize=function(e,t){j.dispatch(ge(e)),this.resizeAnchorIndex=t,Be.setViewPortActionsDisabledStatus(!0)},n.endExistingLabelResize=function(e,t){this.applyResizeToPolygonLabel(e,t),this.resizeAnchorIndex=null,Be.setViewPortActionsDisabledStatus(!1)},n.applyResizeToPolygonLabel=function(e,t){var n=this,i=ve.getActiveImageData(),o=ve.getActivePolygonLabel();i.labelPolygons=i.labelPolygons.map((function(t){return t.id!==o.id?t:V(V({},t),{},{vertices:t.vertices.map((function(t,i){if(i!==n.resizeAnchorIndex)return t;var o=re.snapPointToRect(e.mousePositionOnViewPortContent,e.viewPortContentImageRect);return me.transferPointFromViewPortContentToImage(o,e)}))})}));var r=i.labelPolygons;t({labelRects:i.labelRects,labelPolygons:r}),j.dispatch(fe("0",i)),j.dispatch(ge(o.id))},n.discardSuggestedPoint=function(){this.suggestedAnchorIndexInPolygon=null,this.suggestedAnchorPositionOnCanvas=null},n.addSuggestedAnchorToPolygonLabel=function(e){var t=this,n=ve.getActiveImageData(),i=ve.getActivePolygonLabel(),o=me.transferPointFromViewPortContentToImage(this.suggestedAnchorPositionOnCanvas,e),r=V(V({},n),{},{labelPolygons:n.labelPolygons.map((function(e){return e.id!==i.id?e:V(V({},e),{},{vertices:(n=e.vertices,r=t.suggestedAnchorIndexInPolygon,a=o,[].concat(n.slice(0,r),[a],n.slice(r)))});var n,r,a}))});j.dispatch(fe("0",r)),this.startExistingLabelResize(i.id,this.suggestedAnchorIndexInPolygon),this.discardSuggestedPoint()},n.isInProgress=function(){return this.isCreationInProgress()||this.isResizeInProgress()},n.isCreationInProgress=function(){return null!==this.activePath&&0!==this.activePath.length},n.isResizeInProgress=function(){return null!==this.resizeAnchorIndex},n.isMouseOverAnchor=function(e,t){return e&&t?re.isPointInside(re.getRectWithCenterAndSize(t,this.config.anchorSize),e):null},n.isMouseOverLine=function(e,t){var n=this.config.anchorHoverSize.width/2,i=Math.min(t.start.x,t.end.x),o=Math.max(t.start.x,t.end.x),r=Math.min(t.start.y,t.end.y),a=Math.max(t.start.y,t.end.y);return i-n<=e.x&&o+n>=e.x&&r-n<=e.y&&a+n>=e.y&&Ee.getDistanceFromLine(t,e)<n},n.mapPointsToLines=function(e){for(var t=[],n=0;n<e.length-1;n++)t.push({start:e[n],end:e[n+1]});return t},n.mapPointsToAnchors=function(e){var t=this;return e.map((function(e){return re.getRectWithCenterAndSize(e,t.config.anchorSize)}))},n.getPolygonUnderMouse=function(e){for(var t=ve.getActiveImageData().labelPolygons,n=0;n<t.length;n++){for(var i=me.transferPolygonFromImageToViewPortContent(t[n].vertices,e),o=this.mapPointsToLines(i.concat(i[0])),r=0;r<o.length;r++)if(this.isMouseOverLine(e.mousePositionOnViewPortContent,o[r]))return t[n];for(var a=0;a<i.length;a++)if(this.isMouseOverAnchor(e.mousePositionOnViewPortContent,i[a]))return t[n]}return null},n.getAnchorUnderMouse=function(e){for(var t=ve.getActiveImageData().labelPolygons,n=0;n<t.length;n++)for(var i=me.transferPolygonFromImageToViewPortContent(t[n].vertices,e),o=0;o<i.length;o++)if(this.isMouseOverAnchor(e.mousePositionOnViewPortContent,i[o]))return i[o];return null},t}(xe),Ue=function(e){function t(t){return e.call(this,t)||this}N(t,e);var n=t.prototype;return n.mouseMoveHandler=function(){},n.mouseDownHandler=function(){},n.mouseUpHandler=function(){},n.render=function(){q.primaryRenderingEngine.drawImage(q.image,se.calculateViewPortContentImageRect())},n.drawImage=function(e,t){e&&this.canvas&&this.canvas.getContext("2d").drawImage(e,t.x,t.y,t.width,t.height)},n.isInProgress=function(){return!1},t}(xe);!function(e){e.ACCEPTED="ACCEPTED",e.REJECTED="REJECTED",e.UNDECIDED="UNDECIDED"}(Le||(Le={}));var Ve=function(e){function t(t){var n;return(n=e.call(this,t)||this).config=new de,n.mouseDownHandler=function(e){var t=me.isMouseOverImage(e);if(me.isMouseOverCanvas(e)){var i=n.getRectUnderMouse(e);if(i){var o=n.calculateRectRelativeToActiveImage(i.rect,e),r=n.getAnchorUnderMouseByRect(o,e.mousePositionOnViewPortContent,e.viewPortContentImageRect);r&&i.status===Le.ACCEPTED?(j.dispatch(ge(i.id)),n.startRectResize(r)):ve.getHighlightedLabelId()?j.dispatch(ge(ve.getHighlightedLabelId())):n.startRectCreation(e.mousePositionOnViewPortContent)}else t&&n.startRectCreation(e.mousePositionOnViewPortContent)}},n.mouseUpHandler=function(e,t){if(e.viewPortContentImageRect){var i=re.snapPointToRect(e.mousePositionOnViewPortContent,e.viewPortContentImageRect),o=ve.getActiveRectLabel();if(n.startCreateRectPoint&&!oe.equals(n.startCreateRectPoint,i)){var r=Math.min(n.startCreateRectPoint.x,i.x),a=Math.min(n.startCreateRectPoint.y,i.y),s={x:r,y:a,width:Math.max(n.startCreateRectPoint.x,i.x)-r,height:Math.max(n.startCreateRectPoint.y,i.y)-a};n.addRectLabel(me.transferRectFromImageToViewPortContent(s,e),t)}if(n.startResizeRectAnchor&&o){var c=n.calculateRectRelativeToActiveImage(o.rect,e),u=oe.add(n.startResizeRectAnchor.position,e.viewPortContentImageRect),l=oe.subtract(i,u),d=re.resizeRect(c,n.startResizeRectAnchor.type,l),g=me.calculateImageScale(e),h=re.scaleRect(d,g),f=ve.getActiveImageData();f.labelRects=f.labelRects.map((function(e){return e.id===o.id?V(V({},e),{},{rect:h}):e})),t({labelRects:f.labelRects,labelPolygons:f.labelPolygons}),j.dispatch(fe("0",f))}}n.endRectTransformation()},n.mouseMoveHandler=function(e){if(e.viewPortContentImageRect&&e.mousePositionOnViewPortContent&&(me.isMouseOverImage(e)&&!n.startResizeRectAnchor)){var t=n.getRectUnderMouse(e);t&&!n.isInProgress()?ve.getHighlightedLabelId()!==t.id&&j.dispatch(he(t.id)):null!==ve.getHighlightedLabelId()&&j.dispatch(he(null))}},n.addRectLabel=function(e,t){var n=ve.getActiveLabelNameId(),i=ve.getActiveImageData(),o={id:be.v4(),labelId:n,rect:e,status:Le.ACCEPTED,suggestedLabel:null};i.labelRects.push(o),t({labelRects:i.labelRects,labelPolygons:i.labelPolygons}),j.dispatch(fe("0",i)),j.dispatch(ge(o.id))},n.labelType=A.RECTANGLE,n}N(t,e);var n=t.prototype;return n.render=function(e){var t=this,n=ve.getActiveLabelId(),i=ve.getActiveImageData();i&&(i.labelRects.forEach((function(i){i.status===Le.ACCEPTED&&i.id===n?t.drawActiveRect(i,e):t.drawInactiveRect(i,e)})),this.drawCurrentlyCreatedRect(e.mousePositionOnViewPortContent,e.viewPortContentImageRect),this.updateCursorStyle(e))},n.drawCurrentlyCreatedRect=function(e,t){if(this.startCreateRectPoint){var n=re.snapPointToRect(e,t),i={x:this.startCreateRectPoint.x,y:this.startCreateRectPoint.y,width:n.x-this.startCreateRectPoint.x,height:n.y-this.startCreateRectPoint.y},o=me.setRectBetweenPixels(i);Ce.drawRect(this.canvas,o,this.config.lineActiveColor,this.config.lineThickness)}},n.drawInactiveRect=function(e,t){var n=me.transferRectFromViewPortContentToImage(e.rect,t),i=ve.getHighlightedLabelId(),o=e.status===Le.ACCEPTED&&e.id===i;this.renderRect(n,o)},n.drawActiveRect=function(e,t){var n=this.calculateRectRelativeToActiveImage(e.rect,t);if(this.startResizeRectAnchor){var i=oe.add(this.startResizeRectAnchor.position,t.viewPortContentImageRect),o=re.snapPointToRect(t.mousePositionOnViewPortContent,t.viewPortContentImageRect),r=oe.subtract(o,i);n=re.resizeRect(n,this.startResizeRectAnchor.type,r)}var a=re.translate(n,t.viewPortContentImageRect);this.renderRect(a,!0)},n.renderRect=function(e,t){var n=this,i=me.setRectBetweenPixels(e),o=t?this.config.lineActiveColor:this.config.lineInactiveColor;(Ce.drawRect(this.canvas,i,o,this.config.lineThickness),t)&&re.mapRectToAnchors(e).map((function(e){return e.position})).forEach((function(e){var t=re.getRectWithCenterAndSize(e,n.config.anchorSize),i=me.setRectBetweenPixels(t);Ce.drawRectWithFill(n.canvas,i,n.config.activeAnchorColor)}))},n.updateCursorStyle=function(e){if(this.canvas&&e.mousePositionOnViewPortContent&&!$.getImageDragModeStatus()){var t=this.getRectUnderMouse(e);if(this.getAnchorUnderMouse(e)&&t&&t.status===Le.ACCEPTED||this.startResizeRectAnchor)return void j.dispatch(U(R.MOVE));me.isMouseOverCanvas(e)?(!me.isMouseOverImage(e)&&this.startCreateRectPoint?j.dispatch(U(R.MOVE)):me.wrapDefaultCursorStyleInCancel(e),this.canvas.style.cursor="none"):this.canvas.style.cursor="default"}},n.isInProgress=function(){return!!this.startCreateRectPoint||!!this.startResizeRectAnchor},n.calculateRectRelativeToActiveImage=function(e,t){var n=me.calculateImageScale(t);return re.scaleRect(e,1/n)},n.getRectUnderMouse=function(e){var t=ve.getActiveRectLabel();if(t&&this.isMouseOverRectEdges(t.rect,e))return t;for(var n=ve.getActiveImageData().labelRects,i=0;i<n.length;i++)if(this.isMouseOverRectEdges(n[i].rect,e))return n[i];return null},n.isMouseOverRectEdges=function(e,t){var n=re.translate(this.calculateRectRelativeToActiveImage(e,t),t.viewPortContentImageRect),i={x:this.config.anchorHoverSize.width/2,y:this.config.anchorHoverSize.height/2},o=re.expand(n,i),r={x:-this.config.anchorHoverSize.width/2,y:-this.config.anchorHoverSize.height/2},a=re.expand(n,r);return re.isPointInside(o,t.mousePositionOnViewPortContent)&&!re.isPointInside(a,t.mousePositionOnViewPortContent)},n.getAnchorUnderMouseByRect=function(e,t,n){for(var i=re.mapRectToAnchors(e),o=0;o<i.length;o++){var r=re.translate(re.getRectWithCenterAndSize(i[o].position,this.config.anchorHoverSize),n);if(t&&re.isPointInside(r,t))return i[o]}return null},n.getAnchorUnderMouse=function(e){for(var t=ve.getActiveImageData().labelRects,n=0;n<t.length;n++){var i=this.calculateRectRelativeToActiveImage(t[n].rect,e),o=this.getAnchorUnderMouseByRect(i,e.mousePositionOnViewPortContent,e.viewPortContentImageRect);if(o)return o}return null},n.startRectCreation=function(e){this.startCreateRectPoint=e,j.dispatch(ge(null)),Be.setViewPortActionsDisabledStatus(!0)},n.startRectResize=function(e){this.startResizeRectAnchor=e,Be.setViewPortActionsDisabledStatus(!0)},n.endRectTransformation=function(){this.startCreateRectPoint=null,this.startResizeRectAnchor=null,Be.setViewPortActionsDisabledStatus(!1)},t}(xe),Ne=function(){function e(){}return e.getMousePositionOnCanvasFromEvent=function(e,t){if(t&&e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}return null},e.getClientRect=function(e){if(e){var t=e.getBoundingClientRect();return{x:t.left,y:t.top,width:t.width,height:t.height}}return null},e.getSize=function(e){if(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}return null},e}(),Be=function(){function e(){}return e.mountSupportRenderingEngine=function(e){q.supportRenderingEngine=e===A.RECTANGLE?new Ve(q.canvas):new Me(q.canvas)},e.swapSupportRenderingEngine=function(t){e.mountSupportRenderingEngine(t)},e.mountRenderEnginesAndHelpers=function(t){q.viewPortHelper=new ue,q.primaryRenderingEngine=new Ue(q.canvas),e.mountSupportRenderingEngine(t)},e.fullRender=function(){Ce.clearCanvas(q.canvas),q.primaryRenderingEngine.render(),null===q||void 0===q||q.supportRenderingEngine.render(e.getEditorData())},e.setLoadingStatus=function(e){q.isLoading=e},e.setActiveImage=function(e){q.image=e},e.setViewPortActionsDisabledStatus=function(e){q.viewPortActionsDisabled=e},e.getEditorData=function(e){return{mousePositionOnViewPortContent:q.mousePositionOnViewPortContent,viewPortContentSize:Ne.getSize(q.canvas),event:e,zoom:$.getZoom(),viewPortSize:q.viewPortSize,defaultRenderImageRect:q.defaultRenderImageRect,viewPortContentImageRect:se.calculateViewPortContentImageRect(),realImageSize:ne.getSize(q.image),absoluteViewPortContentScrollPosition:se.getAbsoluteScrollPosition()}},e.updateMousePositionIndicator=function(e){if(!q.image||!q.canvas)return q.mousePositionIndicator.style.display="none",void(q.cursor.style.display="none");var t=Ne.getMousePositionOnCanvasFromEvent(e,q.canvas),n=se.getAbsoluteScrollPosition(),i=se.calculateViewPortContentImageRect(),o=oe.subtract(t,n),r=re.isPointInside(i,t);if(re.isPointInside(V({x:0,y:0},q.viewPortSize),o)&&!$.getPreventCustomCursorStatus())if(q.cursor.style.left=o.x+"px",q.cursor.style.top=o.y+"px",q.cursor.style.display="block",r&&![R.GRAB,R.GRABBING].includes($.getCustomCursorStyle())){var a=ne.getSize(q.image).width/i.width,s=oe.multiply(oe.subtract(t,i),a),c="x: "+Math.round(s.x)+", y: "+Math.round(s.y);q.mousePositionIndicator.innerHTML=c,q.mousePositionIndicator.style.left=o.x+15+"px",q.mousePositionIndicator.style.top=o.y+15+"px",q.mousePositionIndicator.style.display="block"}else q.mousePositionIndicator.style.display="none";else q.cursor.style.display="none",q.mousePositionIndicator.style.display="none"},e}(),Ge=function(){function e(){}return e.loadImage=function(e,t,n){return new Promise((function(i,o){var r=URL.createObjectURL(e),a=new Image;a.src=r,a.onload=function(){t(a),i()},a.onerror=function(){n(),o()}}))},e.loadLabelsList=function(e,t,n){var i=new FileReader;i.readAsText(e),i.onloadend=function(e){var n=e.target.result;t(n.split(/[\r\n]/))},i.onerror=function(){return n()}},e}(),ze=function(){},He=function(e){var t=e.imageData,n=e.annotationType,i=e.imageDragMode,o=e.onLabelsDataChange,r=void 0===o?ze:o;Object(s.useEffect)((function(){var e=function(e){var t=Be.getEditorData(e);q.mousePositionOnViewPortContent=Ne.getMousePositionOnCanvasFromEvent(e,q.canvas),q.primaryRenderingEngine.update(t),i?q.viewPortHelper.update(t):null===q||void 0===q||q.supportRenderingEngine.update(t,r),Be.updateMousePositionIndicator(e),Be.fullRender()};return window.addEventListener(T.MOUSE_MOVE,e),window.addEventListener(T.MOUSE_UP,e),q.canvas.addEventListener(T.MOUSE_DOWN,e),function(){window.removeEventListener(T.MOUSE_MOVE,e),window.removeEventListener(T.MOUSE_UP,e),q.canvas.removeEventListener(T.MOUSE_DOWN,e)}}),[i,r]),Object(s.useEffect)((function(){var e=function(){se.updateViewPortSize(),se.updateDefaultViewPortImageRect(),se.resizeViewPortContent(),Be.fullRender()};if(t.loadStatus)e();else if(!q.isLoading){Be.setLoadingStatus(!0);Ge.loadImage(t.fileData,(function(n){return function(t,n){n.loadStatus=!0,Be.setActiveImage(t),Be.setLoadingStatus(!1),e()}(n,t)}),ze)}}),[t]),Object(s.useEffect)((function(){Be.mountRenderEnginesAndHelpers(n)}),[n])},Fe={x:.5,y:.5};function ke(){var e=B(["\n  ","\n  cursor: none;\n"]);return ke=function(){return e},e}function je(){var e=B(["\n  ","\n"]);return je=function(){return e},e}function We(){var e=B(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return We=function(){return e},e}function Ze(){var e=B(["\n  ","\n  ","\n  ","\n"]);return Ze=function(){return e},e}function Xe(){var e=B(["\n  ","\n"]);return Xe=function(){return e},e}var Ye,Je=function(e){return{customCursorStyle:e.general.customCursorStyle,imageDragMode:e.general.imageDragMode}},Ke=function(e){return e.preventDefault()},qe=function(e){var t=e.annotationType,n=e.className,i=e.imageFile,o=e.labelsData,r=e.onRectChange,a=void 0===r?function(){}:r,u=e.zoom,l=void 0===u?1:u,d=e.isImageDrag,g=void 0!==d&&d,h=Object(s.useMemo)((function(){return V({fileData:i,loadStatus:!1},o)}),[i,o]),f=Object(_.b)();Object(s.useEffect)((function(){f(function(e){return{type:I.ADD_IMAGES_DATA,payload:{imageData:e}}}([h]))}),[f,h,i]),Object(s.useEffect)((function(){var e;f((e=g,{type:I.UPDATE_IMAGE_DRAG_MODE_STATUS,payload:{imageDragMode:e}}))}),[f,g]),Object(s.useEffect)((function(){var e;f((e=t,{type:I.UPDATE_ACTIVE_LABEL_TYPE,payload:{activeLabelType:e}})),f(ge(null))}),[f,t]),function(e){var t=Object(s.useRef)(!1);Object(s.useEffect)((function(){if(t.current){if(q.viewPortActionsDisabled)return;var n=$.getZoom(),i=se.getRelativeScrollPosition(),o=1===n?Fe:i;se.setZoom(e),se.resizeViewPortContent(),se.setScrollPosition(se.calculateAbsoluteScrollPosition(o)),Be.fullRender()}else t.current=!0}),[e])}(l);var v=Object(_.c)(Je,L.a).customCursorStyle;return He({imageData:h,annotationType:t,imageDragMode:g,onLabelsDataChange:a}),c.a.createElement($e,{className:n},c.a.createElement(Qe,null,h&&c.a.createElement(it,{ref:function(e){return q.editor=e},draggable:!1},c.a.createElement(x.a,{ref:function(e){return q.viewPortScrollbars=e},renderTrackHorizontal:function(e){return c.a.createElement(ot,Object.assign({},e))},renderTrackVertical:function(e){return c.a.createElement(ot,Object.assign({},e))},draggable:!1},c.a.createElement(et,{ref:function(e){return q.canvas=e},draggable:!1,onContextMenu:Ke})),c.a.createElement(tt,{ref:function(e){return q.mousePositionIndicator=e},draggable:!1}),c.a.createElement(nt,{isGrabbing:v===R.GRABBING,isTransform:v!==R.DEFAULT,ref:function(e){return q.cursor=e},draggable:!1},c.a.createElement(K,{d:X[v]})))))},Qe=w.a.div({display:"flex",flexDirection:"column",width:"100%",height:"100%",alignSelf:"stretch"}),$e=w.a.div({height:"100%",width:"100%",alignSelf:"stretch",display:"flex",flexDirection:"column"}),et=w.a.canvas(Xe(),{position:"absolute",cursor:"none"}),tt=w.a.div(Ze(),{userSelect:"none",pointerEvents:"none"},{position:"absolute",color:"#fff",opacity:"0.75",padding:"0.25rem"},{backgroundColor:"#4a5568",zIndex:"50"}),nt=w.a.div(We(),{position:"absolute",width:"0.5rem",height:"0.5rem",color:"#fff",fill:"currentColor"},{pointerEvents:"none",zIndex:"40"},{borderColor:"#fff",backgroundColor:"#fff",borderRadius:"9999px"},{transitionProperty:"transform",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"200ms"},Object(M.a)("isTransform",{borderWidth:"1px",backgroundColor:"transparent","--transform-translate-x":"0","--transform-translate-y":"0","--transform-rotate":"0","--transform-skew-x":"0","--transform-skew-y":"0","--transform-scale-x":"3.5","--transform-scale-y":"3.5",transform:"translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y))"}),Object(M.a)("isGrabbing",{"--transform-scale-x":"2.5","--transform-scale-y":"2.5"})),it=w.a.div(je(),{flexGrow:"1",position:"relative"}),ot=w.a.div(ke(),{pointerEvents:"none"});qe.className=$e,W.init();var rt=((Ye={})[A.POLYGON]=A.POLYGON,Ye[A.RECTANGLE]=A.RECTANGLE,Ye),at=qe.className,st=function(e){return c.a.createElement(_.a,{store:j},c.a.createElement(qe,Object.assign({},e)))};function ct(){var e=Object(i.a)(["\n  ","\n  "," {\n    ","\n  }\n"]);return ct=function(){return e},e}var ut=[rt.RECTANGLE,rt.POLYGON],lt=o.b.div(ct(),{display:"flex",paddingTop:"0.5rem",paddingBottom:"0.5rem",width:"100%",justifyContent:"center",alignItems:"center"},y.className,{marginLeft:"0.5rem",marginRight:"0.5rem"}),dt=function(e){var t=e.onChange,n=Object(s.useState)(ut[0]),i=Object(f.a)(n,2),o=i[0],r=i[1],a=Object(s.useCallback)((function(e){return function(){t(e),r(e)}}),[t]);return c.a.createElement(lt,null,c.a.createElement("h1",null,"Annotation Type"),ut.map((function(e){return c.a.createElement(y,{key:e,onClick:a(e),isPressed:e===o},e)})))},gt=(n(62),n(35)),ht=n.n(gt);function ft(){var e=Object(i.a)(["\n  ","\n"]);return ft=function(){return e},e}function vt(){var e=Object(i.a)(["\n  ","\n  "," {\n    ","\n  }\n"]);return vt=function(){return e},e}var Pt={labelRects:[],labelPolygons:[]},Ct=console.log,Et=o.b.main(vt(),{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden"},at,{borderWidth:"1px",borderColor:"#a0aec0"}),mt=o.b.div(ft(),{display:"grid",gridAutoFlow:"column",gap:"0.5rem",margin:"0.5rem"}),At=function(){var e=Object(s.useState)(rt.RECTANGLE),t=Object(f.a)(e,2),n=t[0],i=t[1],o=Object(s.useState)(null),r=Object(f.a)(o,2),a=r[0],u=r[1],l=Object(s.useReducer)((function(e){return!e}),!1),d=Object(f.a)(l,2),v=d[0],P=d[1],C=Object(s.useState)(1),E=Object(f.a)(C,2),m=E[0],A=E[1],T=Object(s.useMemo)((function(){return{default:function(){return A(1)},maxZoom:function(){return A(2)},zoom:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(){return A((function(t){return t+.1*(e?1:-1)}))}}}}),[]);return Object(s.useEffect)((function(){(function(){var e=Object(h.a)(g.a.mark((function e(){var t,n,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ht.a);case 2:return t=e.sent,e.next=5,t.arrayBuffer();case 5:n=e.sent,i=new File([n],"img.jpg",{type:"image/jpg"}),u(i);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c.a.createElement(Et,null,c.a.createElement(mt,null,c.a.createElement(y,{onClick:T.zoom()},"Zoom In"),c.a.createElement(y,{onClick:T.zoom(!1)},"Zoom Out"),c.a.createElement(y,{onClick:T.default},"Default Zoom"),c.a.createElement(y,{onClick:T.maxZoom},"Zoom Max"),c.a.createElement(y,{isPressed:v,onClick:P,disabled:1===m},"Drag Image (Only on zoomed image)")),a&&c.a.createElement(st,{zoom:m,imageFile:a,labelsData:Pt,onLabelsDataChange:Ct,annotationType:n,isImageDrag:v}),c.a.createElement(dt,{onChange:i}))};l.a.render(c.a.createElement(c.a.Fragment,null,c.a.createElement(a,null),c.a.createElement(At,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.4487884a.chunk.js.map